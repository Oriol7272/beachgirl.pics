// Sistema completo de traducciones
const translations = {
    es: {
        // Navegación
        home: "Inicio",
        premium: "Premium",
        videos: "Videos",
        subscriptions: "Suscripciones",
        
        // Email
        emailTitle: "Recibe contenido exclusivo diario",
        emailPlaceholder: "tu@email.com",
        subscribe: "Suscribir",
        
        // Ofertas y precios
        packImages: "Pack 10 Imágenes",
        packVideos: "Pack 5 Videos",
        monthly: "Mensual",
        annual: "Anual",
        lifetime: "Acceso Vitalicio",
        monthlyPrice: "14.99€/mes",
        annualPrice: "49.99€/año",
        lifetimePrice: "100€",
        dayAccess: "Acceso 24 horas",
        weekendAccess: "Fin de semana (72h)",
        
        // Descripciones
        unlimitedAccess: "Acceso ilimitado por 30 días",
        yearAccess: "12 meses de acceso total",
        foreverAccess: "Para siempre + Sin anuncios",
        noAds: "¡SIN ANUNCIOS!",
        bestPrice: "MEJOR PRECIO",
        
        // Botones
        buyNow: "Comprar Ahora",
        subscribeNow: "Suscribirse",
        cancel: "Cancelar",
        processing: "Procesando pago...",
        
        // Badges
        newBadge: "NUEVO",
        
        // Títulos de sección
        contentPacks: "🎁 Packs de Contenido",
        subscriptionPlans: "💎 Planes de Suscripción",
        premiumGallery: "Galería Premium",
        premiumVideos: "Videos Premium"
    },
    
    en: {
        // Navigation
        home: "Home",
        premium: "Premium",
        videos: "Videos",
        subscriptions: "Subscriptions",
        
        // Email
        emailTitle: "Get exclusive daily content",
        emailPlaceholder: "your@email.com",
        subscribe: "Subscribe",
        
        // Offers and prices
        packImages: "10 Images Pack",
        packVideos: "5 Videos Pack",
        monthly: "Monthly",
        annual: "Annual",
        lifetime: "Lifetime Access",
        monthlyPrice: "€14.99/month",
        annualPrice: "€49.99/year",
        lifetimePrice: "€100",
        dayAccess: "24 hours access",
        weekendAccess: "Weekend (72h)",
        
        // Descriptions
        unlimitedAccess: "Unlimited access for 30 days",
        yearAccess: "12 months full access",
        foreverAccess: "Forever + No ads",
        noAds: "NO ADS!",
        bestPrice: "BEST VALUE",
        
        // Buttons
        buyNow: "Buy Now",
        subscribeNow: "Subscribe Now",
        cancel: "Cancel",
        processing: "Processing payment...",
        
        // Badges
        newBadge: "NEW",
        
        // Section titles
        contentPacks: "🎁 Content Packs",
        subscriptionPlans: "💎 Subscription Plans",
        premiumGallery: "Premium Gallery",
        premiumVideos: "Premium Videos"
    },
    
    fr: {
        // Navigation
        home: "Accueil",
        premium: "Premium",
        videos: "Vidéos",
        subscriptions: "Abonnements",
        
        // Email
        emailTitle: "Recevez du contenu exclusif quotidien",
        emailPlaceholder: "votre@email.com",
        subscribe: "S'abonner",
        
        // Offres et prix
        packImages: "Pack 10 Images",
        packVideos: "Pack 5 Vidéos",
        monthly: "Mensuel",
        annual: "Annuel",
        lifetime: "Accès à vie",
        monthlyPrice: "14,99€/mois",
        annualPrice: "49,99€/an",
        lifetimePrice: "100€",
        dayAccess: "Accès 24 heures",
        weekendAccess: "Week-end (72h)",
        
        // Descriptions
        unlimitedAccess: "Accès illimité pendant 30 jours",
        yearAccess: "12 mois d'accès complet",
        foreverAccess: "Pour toujours + Sans publicité",
        noAds: "PAS DE PUBS!",
        bestPrice: "MEILLEUR PRIX",
        
        // Boutons
        buyNow: "Acheter",
        subscribeNow: "S'abonner",
        cancel: "Annuler",
        processing: "Traitement du paiement...",
        
        // Badges
        newBadge: "NOUVEAU",
        
        // Titres de section
        contentPacks: "🎁 Packs de Contenu",
        subscriptionPlans: "💎 Plans d'Abonnement",
        premiumGallery: "Galerie Premium",
        premiumVideos: "Vidéos Premium"
    },
    
    de: {
        home: "Startseite",
        premium: "Premium",
        videos: "Videos",
        subscriptions: "Abonnements",
        emailTitle: "Erhalten Sie täglich exklusive Inhalte",
        emailPlaceholder: "ihre@email.com",
        subscribe: "Abonnieren",
        packImages: "10 Bilder Paket",
        packVideos: "5 Videos Paket",
        monthly: "Monatlich",
        annual: "Jährlich",
        lifetime: "Lebenslanger Zugang",
        monthlyPrice: "14,99€/Monat",
        annualPrice: "49,99€/Jahr",
        lifetimePrice: "100€",
        noAds: "KEINE WERBUNG!",
        bestPrice: "BESTES ANGEBOT",
        newBadge: "NEU"
    },
    
    it: {
        home: "Home",
        premium: "Premium",
        videos: "Video",
        subscriptions: "Abbonamenti",
        emailTitle: "Ricevi contenuti esclusivi ogni giorno",
        emailPlaceholder: "tua@email.com",
        subscribe: "Iscriviti",
        packImages: "Pacchetto 10 Immagini",
        packVideos: "Pacchetto 5 Video",
        monthly: "Mensile",
        annual: "Annuale",
        lifetime: "Accesso a vita",
        monthlyPrice: "14,99€/mese",
        annualPrice: "49,99€/anno",
        lifetimePrice: "100€",
        noAds: "NIENTE PUBBLICITÀ!",
        bestPrice: "MIGLIOR PREZZO",
        newBadge: "NUOVO"
    },
    
    pt: {
        home: "Início",
        premium: "Premium",
        videos: "Vídeos",
        subscriptions: "Assinaturas",
        emailTitle: "Receba conteúdo exclusivo diário",
        emailPlaceholder: "seu@email.com",
        subscribe: "Inscrever",
        packImages: "Pacote 10 Imagens",
        packVideos: "Pacote 5 Vídeos",
        monthly: "Mensal",
        annual: "Anual",
        lifetime: "Acesso Vitalício",
        monthlyPrice: "14,99€/mês",
        annualPrice: "49,99€/ano",
        lifetimePrice: "100€",
        noAds: "SEM ANÚNCIOS!",
        bestPrice: "MELHOR PREÇO",
        newBadge: "NOVO"
    }
};

// Función mejorada de cambio de idioma
function changeLanguage(lang) {
    localStorage.setItem('language', lang);
    const t = translations[lang] || translations['es'];
    
    // Actualizar todos los elementos con data-translate
    document.querySelectorAll('[data-translate]').forEach(el => {
        const key = el.getAttribute('data-translate');
        if (t[key]) {
            el.textContent = t[key];
        }
    });
    
    // Actualizar placeholders
    document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
        const key = el.getAttribute('data-translate-placeholder');
        if (t[key]) {
            el.placeholder = t[key];
        }
    });
    
    // Actualizar botón activo
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });
    
    // Actualizar badges NEW
    document.querySelectorAll('.new-content::before').forEach(el => {
        el.style.content = `"${t.newBadge}"`;
    });
}

// Email handler
function handleEmailSubmit(event) {
    event.preventDefault();
    const email = event.target.querySelector('input[type="email"]').value;
    localStorage.setItem('subscriber_email', email);
    
    const lang = localStorage.getItem('language') || 'es';
    const messages = {
        es: '✅ Email guardado correctamente',
        en: '✅ Email saved successfully',
        fr: '✅ Email enregistré avec succès',
        de: '✅ E-Mail erfolgreich gespeichert',
        it: '✅ Email salvata con successo',
        pt: '✅ Email salvo com sucesso'
    };
    
    alert(messages[lang]);
    event.target.reset();
}

// Inicializar
document.addEventListener('DOMContentLoaded', () => {
    const lang = localStorage.getItem('language') || 
                 navigator.language.substring(0, 2) || 
                 'es';
    changeLanguage(lang);
});
