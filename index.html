<!doctype html>
<html lang="<ht>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>IbizaGirl.pics — Home</title>
  <meta name="description" content="Bienvenido al paraíso. Banner, carrusel y galería con anuncios laterales."/>
  <link rel="icon" href="favicon.ico">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="side-ads.css">
  <style>
    @font-face{
      font-family:'SexyBeachy';
      src:url('decorative-images/Sexy%20Beachy.otf') format('opentype'),
          url('decorative-images/Sexy%20Beachy.ttf') format('truetype');
      font-display:swap;
    }
    :root{--max:1400px}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:#0b0b0c;color:#eee}
    header{position:sticky;top:0;background:#0f0f12cc;backdrop-filter:saturate(120%) blur(6px);z-index:30;border-bottom:1px solid #1f1f24}
    .wrap{max-width:var(--max);margin:0 auto;padding:10px 16px}
    .row{display:flex;gap:12px;align-items:center;justify-content:space-between}
    nav a{color:#ddd;text-decoration:none;margin:0 10px;font-weight:600}
    nav a:hover{color:#fff}

    /* Banner */
    .banner{border-bottom:1px solid #1f1f24;background:radial-gradient(1200px 320px at 50% -80px,#1f2030,#0b0b0c);}
    .banner .wrap{padding:24px 16px}
    .banner h1{margin:0 0 6px 0;font-family:'SexyBeachy',system-ui,Arial,sans-serif;font-size:42px;letter-spacing:.5px}
    .banner p{margin:0;color:#bdbdc9}
    .banner-strip{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(220px,1fr);gap:10px;overflow:auto;padding:10px 16px}
    .banner-strip img{width:100%;height:140px;object-fit:cover;border-radius:12px;background:#15151a}

    /* Carrusel */
    .carousel{margin:18px auto 6px;max-width:var(--max);overflow:hidden}
    .carousel-track{display:grid;grid-auto-flow:column;grid-auto-columns:300px;gap:12px;padding:8px 16px;scroll-snap-type:x mandatory;overflow:auto}
    .carousel-track img{width:300px;height:180px;object-fit:cover;border-radius:14px;scroll-snap-align:start;background:#15151a}

    /* Layout 3 columnas con ads laterales */
    .layout{max-width:var(--max);margin:0 auto;display:grid;grid-template-columns:160px 1fr 160px;gap:16px;padding:14px 16px}
    @media (max-width:1100px){.layout{grid-template-columns:1fr}}
    .sidebar .box{position:sticky;top:72px}

    /* Galería */
    .grid{columns:5 260px;column-gap:12px}
    .grid .card{break-inside:avoid;margin:0 0 12px;border-radius:14px;overflow:hidden;position:relative;background:#15151a;border:1px solid #1f1f24}
    .grid img{width:100%;height:auto;display:block}
    .grid .meta{position:absolute;left:8px;bottom:8px;background:#0009;padding:4px 8px;border-radius:10px;font-size:12px}

    footer{border-top:1px solid #1f1f24;margin-top:24px}
    .muted{color:#a9a9b2;font-size:13px}
    button.lang{background:#1c1c22;border:1px solid #2a2a33;color:#ddd;border-radius:10px;padding:6px 10px;cursor:pointer}
    button.lang:hover{border-color:#3a3a45;color:#fff}
  </style>
</head>
<body>
  <!-- Header + menú superior -->
  <header>
    <div class="wrap row">
      <div class="brand">IbizaGirl.pics</div>
      <nav>
        <a href="index.html">Home</a>
        <a href="premium.html">Premium</a>
        <a href="videos.html">Vídeos</a>
        <a href="subscription.html">Subscriptions</a>
      </nav>
      <div>
        <button class="lang" onclick="setLang('es')">ES</button>
        <button class="lang" onclick="setLang('en')">EN</button>
      </div>
    </div>
  </header>

  <!-- Banner -->
  <section class="banner">
    <div class="wrap">
      <h1>ibizagirl.pics</h1>
      <p>bienvenido al paraíso</p>
    </div>
    <div class="banner-strip" id="bannerStrip"></div>
  </section>

  <!-- Carrusel 30 aleatorias -->
  <section class="carousel">
    <div class="carousel-track" id="fullCarousel"></div>
  </section>

  <!-- Layout con anuncios laterales -->
  <main class="layout">
    <aside class="sidebar"><div class="box" id="ad-left"></div></aside>
    <section><div class="grid" id="fiveCols"></div></section>
    <aside class="sidebar"><div class="box" id="ad-right"></div></aside>
  </main>

  <footer>
    <div class="wrap"><p class="muted">© <span id="y"></span> IbizaGirl.pics · <a href="age-verification.html">+18</a></p></div>
  </footer>

  <!-- Desregistrar cualquier Service Worker previo en el cliente -->
  <script>
    (async function killSW(){
      if ('serviceWorker' in navigator) {
        try {
          const regs = await navigator.serviceWorker.getRegistrations();
          for (const r of regs) { await r.unregister(); }
          // segunda pasada por si hay SW antiguo en scope superior
          navigator.serviceWorker.getRegistrations && setTimeout(async()=>{
            const regs2 = await navigator.serviceWorker.getRegistrations();
            for (const r of regs2) { await r.unregister(); }
          }, 500);
        } catch(e){}
      }
    })();
  </script>

  <!-- Scripts -->
  <script src="env.js"></script>
  <script src="ibg-env.js"></script>
  <script src="i18n.js"></script>
  <script src="content-data2.js"></script>
  <script src="ads-loader.js" defer></script>
  <script src="ads-sidebars.js" defer></script>
  <script src="chrome-ads-fix.js" defer></script>

  <script>
    function setLang(l){try{localStorage.setItem('lang',l);}catch(e){}}
    document.getElementById('y').textContent = new Date().getFullYear();

    // Banner: imágenes REALES en /decorative-images
    (function bannerReal(){
      var strip=document.getElementById('bannerStrip');
      var imgs=[
        'decorative-images/1115ae7d-909f-4760-a3a1-037a05ad9931.jpg',
        'decorative-images/1618cbb2-8dd1-4127-99d9-d9f30536de72.jpg',
        'decorative-images/49830c0a-2fd8-439c-a583-029a0b39c4d6.jpg',
        'decorative-images/4bfb7a8b-b81e-49d7-a160-90b834d0b751.jpg',
        'decorative-images/81f55fd4-b0df-49f4-9020-cbb0f5042c08.jpg',
        'decorative-images/f062cb22-c99b-4dfa-9a79-572e98c6e75e.jpg',
        'decorative-images/paradise-beach.png'
      ];
      strip.innerHTML=imgs.map(function(src){return '<img loading="lazy" src="'+src+'" alt="">' }).join('');
    })();

    // Detectar el array REAL de content-data2.js (sin inventar nombres)
    function findFullListFromContentData2(){
      var imgExt=/\.(webp|jpg|jpeg|png|avif)$/i, candidates=[];
      for (var k in window){
        var v=window[k];
        if (Array.isArray(v) && v.length>=10){
          var strings=v.filter(function(x){return typeof x==='string' && imgExt.test(x)});
          var objs=v.filter(function(x){return x && typeof x==='object' && (typeof x.file==='string'||typeof x.path==='string')});
          if ((strings.length+objs.length)>=Math.min(10,v.length)) candidates.push(v);
        }
      }
      if (!candidates.length) return [];
      return candidates[0].map(function(x){
        if (typeof x==='string') return x;
        if (x && typeof x.path==='string') return x.path;
        if (x && typeof x.file==='string') return x.file;
        return null;
      }).filter(Boolean);
    }
    function normalizeToFull(name){return name && name.indexOf('full/')===0?name:('full/'+name)}
    function shuffle(a){a=a.slice(); for(var i=a.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1)); var t=a[i]; a[i]=a[j]; a[j]=t;} return a;}

    (function init(){
      var listRaw=findFullListFromContentData2();
      if(!listRaw.length){console.error('[home] content-data2 no detectado');return;}
      var list=listRaw.map(normalizeToFull).filter(Boolean);

      // Carrusel 30 aleatorias
      var car=document.getElementById('fullCarousel');
      var carItems=shuffle(list).slice(0,30);
      car.innerHTML=carItems.map(function(src){return '<img loading="lazy" src="'+src+'" alt="">' }).join('');

      // Grid 30 aleatorias
      var grid=document.getElementById('fiveCols');
      var gridItems=shuffle(list).slice(0,30);
      grid.innerHTML=gridItems.map(function(src){
        return '<figure class="card"><img loading="lazy" src="'+src+'" alt=""><figcaption class="meta">full</figcaption></figure>';
      }).join('');

      // Ads laterales
      try{ if (window.IBG_ADS && typeof IBG_ADS.initSidebars==='function'){ IBG_ADS.initSidebars('#ad-left','#ad-right'); } }catch(e){}
    })();
  </script>
</body>
</html>
